<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>MusicApp API Docs</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #f8f8f2;
  background-color: #272822;
}
.highlight .err {
  color: #151515;
  background-color: #ac4142;
}
.highlight .c, .highlight .cd, .highlight .cm, .highlight .c1, .highlight .cs {
  color: #505050;
}
.highlight .cp {
  color: #f4bf75;
}
.highlight .nt {
  color: #f4bf75;
}
.highlight .o, .highlight .ow {
  color: #d0d0d0;
}
.highlight .p, .highlight .pi {
  color: #d0d0d0;
}
.highlight .gi {
  color: #90a959;
}
.highlight .gd {
  color: #ac4142;
}
.highlight .gh {
  color: #6a9fb5;
  background-color: #151515;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #aa759f;
}
.highlight .kc {
  color: #d28445;
}
.highlight .kt {
  color: #d28445;
}
.highlight .kd {
  color: #d28445;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #90a959;
}
.highlight .sr {
  color: #75b5aa;
}
.highlight .si {
  color: #8f5536;
}
.highlight .se {
  color: #8f5536;
}
.highlight .nn {
  color: #f4bf75;
}
.highlight .nc {
  color: #f4bf75;
}
.highlight .no {
  color: #f4bf75;
}
.highlight .na {
  color: #6a9fb5;
}
.highlight .m, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mb, .highlight .mx {
  color: #90a959;
}
.highlight .ss {
  color: #90a959;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;shell&quot;,&quot;ruby&quot;,&quot;php&quot;,&quot;javascript&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.png" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">cURL</a>
              <a href="#" data-language-name="ruby">Ruby</a>
              <a href="#" data-language-name="php">PHP</a>
              <a href="#" data-language-name="javascript">javascript</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='#'>Sign Up for a Developer Key</a></li>
            <li><a href='https://github.com/tripit/slate'>Documentation Powered by Slate</a></li>
            <li><a href='https://github.com/acme'>Client libraries</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="draft-orders">Draft Orders</h1>

<p>The Draft Orders API makes it possible to retrieve and create a draft order via the API. Additionally, using this API, it is possible to create an order on which taxes and all total amounts are calculated automatically by Shopify.</p>

<p>For more information, see our guide (link).</p>

<h2 id="the-draft-orders-object">The draft orders object</h2>

<table><thead>
<tr>
<th>Attributes</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code><br><em>integer</em></br></td>
<td>The <code class="prettyprint">id</code> of the draft order.</td>
</tr>
<tr>
<td><code class="prettyprint">order_id</code><br><em>integer</em></br></td>
<td>The <code class="prettyprint">id</code> of the order associated to the draft order, once created.</td>
</tr>
<tr>
<td><code class="prettyprint">name</code><br><em>string</em></br></td>
<td>Name of the draft order.<br> <strong>format:</strong> <em>#D<number></em>, where <em>number</em> is an sequential identifier unique to the shop, starting at 1. For example, #D133</td>
</tr>
<tr>
<td><code class="prettyprint">customer</code><br><em>object</em></br></td>
<td>Customer object (link to customer object definition)</td>
</tr>
<tr>
<td><code class="prettyprint">shipping_address</code><br><em>object</em></br></td>
<td>The mailing address to where the draft order will be shipped. (link)</td>
</tr>
<tr>
<td><code class="prettyprint">billing_address</code><br><em>object</em></br></td>
<td>The mailing address associated with the payment method. (link)</td>
</tr>
<tr>
<td><code class="prettyprint">note</code><br><em>string</em></br></td>
<td>The text of an optional note that a shop owner can attach to the draft order.</td>
</tr>
<tr>
<td><code class="prettyprint">email</code><br><em>string</em></br></td>
<td>The email address used for sending notifications.</td>
</tr>
<tr>
<td><code class="prettyprint">currency</code><br><em>string</em></br></td>
<td>The three letter code for the currency to be used for the payment.</td>
</tr>
<tr>
<td><code class="prettyprint">invoices_sent_at</code><br><em>dateTime</em></br></td>
<td>DateTime when the invoice was emailed to the customer by Shopify.</td>
</tr>
<tr>
<td><code class="prettyprint">invoice_url</code><br><em>string</em></br></td>
<td>The url to send to the customer so that they can complete the checkout.  When using <code class="prettyprint">send_invoice</code>, this url is emailed to the customer. This field can be used so that an API client can use another method of communication to provide the url to the customer.</td>
</tr>
<tr>
<td><code class="prettyprint">line_items[]</code><br><em>array of line items</em></br></td>
<td>Link to table below</td>
</tr>
<tr>
<td><code class="prettyprint">metafields[]</code><br><em>array of metafields</em></br></td>
<td>Link to table below</td>
</tr>
<tr>
<td><code class="prettyprint">shipping_line</code> <br><em>object</em></br></td>
<td>shipping_line object</td>
</tr>
<tr>
<td><code class="prettyprint">tags</code><br><em>string of csv</em></br></td>
<td>Tags are additional short descriptors, commonly used for filtering and searching, formatted as a string of comma-separated values. Each individual tag is limited to 40 characters in length.</td>
</tr>
<tr>
<td><code class="prettyprint">tax_exempt</code><br><em>boolean</em></br></td>
<td>Sets whether taxes are exempt for this draft order. If this value is false, Shopify will honor the <code class="prettyprint">tax_exempt</code> value for each <code class="prettyprint">line_item</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">tax_lines[]</code><br><em>array of tax line sums</em></br></td>
<td>Tax lines describing the sum of each type of tax line for line items and shipping line.</td>
</tr>
<tr>
<td><code class="prettyprint">total_weight</code><br><em>integer</em></br></td>
<td>The weight of all the line items.</td>
</tr>
<tr>
<td><code class="prettyprint">discount</code><br><em>boolean</em></br></td>
<td>Order level discount.</td>
</tr>
<tr>
<td><code class="prettyprint">total_line_items_price</code><br><em>integer</em></br></td>
<td>Subtotal before order-level discounts, shipping and taxes have been applied</td>
</tr>
<tr>
<td><code class="prettyprint">total_shipping_price</code><br><em>integer</em></br></td>
<td>Total cost of shipping</td>
</tr>
<tr>
<td><code class="prettyprint">total_tax</code><br><em>integer</em></br></td>
<td>Total tax amount</td>
</tr>
<tr>
<td><code class="prettyprint">subtotal_price</code><br><em>integer</em></br></td>
<td>Subtotal after discounts, before shipping and taxes have been applied</td>
</tr>
<tr>
<td><code class="prettyprint">total_price</code><br><em>integer</em></br></td>
<td>Includes discounts, shipping and taxes</td>
</tr>
<tr>
<td><code class="prettyprint">completed_at</code><br><em>dateTime</em></br></td>
<td>Date at which an order was created and the draft order moved to “completed” status.</td>
</tr>
<tr>
<td><code class="prettyprint">created_at</code><br><em>dateTime</em></br></td>
<td>Date at which an order was created.</td>
</tr>
<tr>
<td><code class="prettyprint">updated_at</code><br><em>dateTime</em></br></td>
<td>Date at which an order was updated.</td>
</tr>
<tr>
<td><code class="prettyprint">status</code><br><em>dateTime</em></br></td>
<td>String describing the state of the draft order: <code class="prettyprint">open</code>, <code class="prettyprint">invoice sent</code>, <code class="prettyprint">completed</code>.</td>
</tr>
</tbody></table>

<h2 id="get-admin-draft_orders-json">Get /admin/draft_orders.json</h2>
<pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'music'</span>

<span class="n">api</span> <span class="o">=</span> <span class="no">Music</span><span class="o">::</span><span class="no">APIClient</span><span class="p">.</span><span class="nf">authorize!</span><span class="p">(</span><span class="s1">'your-api-key'</span><span class="p">)</span>
<span class="n">api</span><span class="p">.</span><span class="nf">albums</span><span class="p">.</span><span class="nf">get</span>
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"http://example.com/api/albums"</span>
  -H <span class="s2">"Authorization: your-api-key"</span>
</code></pre>
<pre class="highlight php"><code>$client = new Acme\Music\Client('your-api-key');
$client-&gt;authorize();
$albums = $client-&gt;getAlbums();
</code></pre>
<pre class="highlight javascript"><code><span class="kr">const</span> <span class="nx">kittn</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'kittn'</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">api</span> <span class="o">=</span> <span class="nx">kittn</span><span class="p">.</span><span class="nx">authorize</span><span class="p">(</span><span class="s1">'meowmeowmeow'</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">kittens</span> <span class="o">=</span> <span class="nx">api</span><span class="p">.</span><span class="nx">kittens</span><span class="p">.</span><span class="nx">get</span><span class="p">();</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dubnobasswithmyheadman"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"breed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Underworld"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"artist"</span><span class="p">:</span><span class="w"> </span><span class="err">Underworld</span><span class="p">,</span><span class="w">
    </span><span class="nt">"year"</span><span class="p">:</span><span class="w"> </span><span class="mi">1994</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ISDN"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"artist"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unknown"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"year"</span><span class="p">:</span><span class="w"> </span><span class="mi">1994</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>

<p>Retrieve a list of all Draft Orders.</p>

<p>This is a good place to call out dependencies with other API calls (order etc.) and link to additional guides ad tutorials to view sequence diagrams, flows, and more detailed use-case based information.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET admin/draft_orders.json</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">field</code><br><em>optional, by default returns all fields</em></br></td>
<td>Comma-separated list of fields to include in the response.</td>
</tr>
<tr>
<td><code class="prettyprint">limit</code><br><em>optional, default 50, max 250</em></br></td>
<td>Filter page size.</td>
</tr>
<tr>
<td><code class="prettyprint">page</code><br><em>optional</em></br></td>
<td>Display a specific page.</td>
</tr>
<tr>
<td><code class="prettyprint">since_id</code><br><em>optional</em></br></td>
<td>Restrict results to be after given ID</td>
</tr>
<tr>
<td><code class="prettyprint">status</code><br><em>optional</em></br></td>
<td>Filter by status.  Possible values: <code class="prettyprint">open</code>,<code class="prettyprint">invoice_sent</code>,<code class="prettyprint">completed</code></td>
</tr>
<tr>
<td><code class="prettyprint">ids</code><br><em>optional</em></br></td>
<td>Filter by list of <code class="prettyprint">ids</code></td>
</tr>
</tbody></table>

<aside class="success">
Get all the things!
</aside>

<h3 id="returns">Returns</h3>

<p>Returns an array of <code class="prettyprint">draft_orders</code> objects formatted as JSON.</p>

          <h1 id="errors">Errors</h1>

<aside class="notice">This error section is stored in a separate file in `includes/_errors.md`. Slate allows you to optionally separate out your docs into many files&hellip;just save them to the `includes` folder and add them to the top of your `index.md`&rsquo;s frontmatter. Files are included in the order listed.</aside>

<p>The Kittn API uses the following error codes:</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>200 OK</td>
<td>Successful API request.</td>
</tr>
<tr>
<td>201 Created</td>
<td>The request has been fulfilled and a new resource has been created.</td>
</tr>
<tr>
<td>400 Bad Request</td>
<td>The request cannot be fulfilled due to bad syntax.</td>
</tr>
<tr>
<td>401 Unauthorized</td>
<td>Authentication is required and has not been provided or has failed.</td>
</tr>
<tr>
<td>403 Forbidden</td>
<td>The request was a valid request but the server is refusing to respond to it.</td>
</tr>
<tr>
<td>404 Not Found</td>
<td>The requested resource could not be found but could be available again in the future.</td>
</tr>
<tr>
<td>405 Method Not Allowed</td>
<td>A request was made of a resource using a method that is not accepted by that resource. For example, using a GET request when it should be a POST.</td>
</tr>
<tr>
<td>406 Not Acceptable</td>
<td>The requested resource is only capable of generating content not acceptable according to the Accept headers sent in the request.</td>
</tr>
<tr>
<td>411 Length Required</td>
<td>The request did not specify the length of the content, which is required by the requested resource.</td>
</tr>
<tr>
<td>422 Unprocessable Entity</td>
<td>The request was well-formed but there was some semantic errors.</td>
</tr>
<tr>
<td>500, 501, 502</td>
<td>Shopify Server Errors.</td>
</tr>
<tr>
<td>503 Service Unavailable</td>
<td>The server is currently unavailable (because it is overloaded or down for service). If you reach your API limits you will receive this error.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">cURL</a>
                <a href="#" data-language-name="ruby">Ruby</a>
                <a href="#" data-language-name="php">PHP</a>
                <a href="#" data-language-name="javascript">javascript</a>
          </div>
      </div>
    </div>
  </body>
</html>
